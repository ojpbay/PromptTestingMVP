/* Design Tokens */
:root, .layout {
	--color-bg: #f5f7fb;
	--color-surface: #ffffff;
	--color-surface-alt: #f0f3f9;
	--color-border: #d9e2ef;
	--color-text: #1e2936;
	--color-text-soft: #4a5b70;
	--color-accent: #6366f1;
	--color-accent-rgb: 99,102,241;
	--color-danger: #ef4444;
	--shadow-sm: 0 1px 2px rgba(0,0,0,0.04),0 0 0 1px rgba(0,0,0,0.04);
	--shadow-md: 0 4px 12px -2px rgba(0,0,0,0.08),0 2px 4px rgba(0,0,0,0.06);
	--radius-sm:6px; --radius-md:10px; --radius-lg:18px;
	--gradient-accent: linear-gradient(135deg, rgba(var(--color-accent-rgb),0.9), rgba(var(--color-accent-rgb),0.55));
	--font-stack: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
}


/* Layout Shell */
.layout { min-height:100vh; display:flex; flex-direction:column; background:var(--color-bg); color:var(--color-text); font-family:var(--font-stack); line-height:1.35; }

.topbar { height:58px; display:flex; align-items:center; justify-content:space-between; padding:0 1.25rem; background:var(--color-surface); border-bottom:1px solid var(--color-border); position:sticky; top:0; z-index:20; box-shadow:var(--shadow-sm); backdrop-filter:blur(12px); }
.brand { font-size:1.05rem; font-weight:600; letter-spacing:.5px; background:var(--gradient-accent); -webkit-background-clip:text; background-clip:text; color:transparent; display:flex; align-items:center; gap:.4rem; }
.brand .accent { font-weight:400; opacity:.9; }

.dashboard-grid { flex:1; padding:1.25rem clamp(.75rem,1vw + .5rem,2rem); display:grid; grid-template-columns:repeat(auto-fill,minmax(340px,1fr)); gap:1.25rem; align-content:start; }
.dashboard-grid .span-2 { grid-column:span 2; }
@media (max-width:1100px){ .dashboard-grid .span-2 { grid-column:span 1; } }

/* Panels */
.panel { position:relative; background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-md); padding:1rem 1rem 1.25rem; display:flex; flex-direction:column; gap:.75rem; box-shadow:var(--shadow-sm); overflow:hidden; }
.panel:before { content:""; position:absolute; inset:0; pointer-events:none; background:radial-gradient(circle at top right, rgba(var(--color-accent-rgb),0.18), transparent 60%); opacity:.4; mix-blend-mode:plus-lighter; }
.panel:hover { box-shadow:var(--shadow-md); transition:box-shadow .35s, transform .35s; }
.panel-title { margin:0; font-size:.8rem; text-transform:uppercase; letter-spacing:1.5px; font-weight:600; color:var(--color-text-soft); display:flex; align-items:center; gap:.5rem; }
.panel-title:after { content:""; flex:1; height:1px; background:linear-gradient(90deg, var(--color-border), transparent); }

.results { background:var(--color-surface-alt); }
.results .panel-title { color:var(--color-accent); }

/* Scrollbars */
* { scrollbar-width:thin; scrollbar-color:var(--color-accent) transparent; }
*::-webkit-scrollbar { width:10px; height:10px; }
*::-webkit-scrollbar-track { background:transparent; }
*::-webkit-scrollbar-thumb { background:linear-gradient(var(--color-surface-alt), var(--color-surface)); border:2px solid var(--color-bg); border-radius:40px; }
*::-webkit-scrollbar-thumb:hover { background:var(--color-accent); border-color:var(--color-surface); }

/* Utilities */
.fade-in { animation:fade-in .45s ease; }
@keyframes fade-in { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }

/* Integration Surface Tweaks */
app-prompt-list, app-context-editor, app-test-execution, app-results-card { display:block; }

/* Compact spacing inside embedded components without forcing their internals here */
app-context-editor textarea { font-family:monospace; font-size:.85rem; }

/* Dark mode specific nuance */
/* Dark theme removed as per user request (light-only). */

/* Responsive adjustments */
@media (max-width:780px){
	.topbar { height:54px; padding:0 .85rem; }
	.brand { font-size:.95rem; }
	.dashboard-grid { grid-template-columns:1fr; padding:1rem .75rem 2.5rem; }
	.panel { padding:.85rem .85rem 1.1rem; }
}